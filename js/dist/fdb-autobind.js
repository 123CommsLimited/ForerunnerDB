!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.ForerunnerDBAutoBind=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
var AutoBind=_dereq_("../lib/AutoBind");module.exports=AutoBind;
},{"../lib/AutoBind":2}],2:[function(_dereq_,module,exports){
var Shared=ForerunnerDB.shared,AutoBind={},jsviews;if(Shared.addModule("AutoBind",AutoBind),AutoBind.extendCollection=function(t){var e=t.prototype.init,o=t.prototype._dataReplace,n=t.prototype._dataInsertIndex,i=t.prototype._dataRemoveIndex,r=t.prototype._updateProperty,a=t.prototype._updateIncrement,u=t.prototype._updateSpliceMove,s=t.prototype._updateSplicePush,l=t.prototype._updatePush,p=t.prototype._updatePull,d=t.prototype._updateMultiply,h=t.prototype._updateRename,y=t.prototype._updateUnset,c=t.prototype._updatePop;t.prototype.init=function(){this._linked=0,e.apply(this,arguments)},t.prototype.isLinked=function(){return Boolean(this._linked)},t.prototype.link=function(t,e){if(window.jQuery){this._links=this._links||{};var o,n;if(e&&"object"==typeof e?e.template&&"string"==typeof e.template&&(o=this.objectId(e.template),n=e.template):o=e,!this._links[o]){if(jQuery(t).length){if(!jQuery.templates[o]){if(!n){var i=jQuery(e);if(!i.length)throw"Unable to bind collection to target because template does not exist: "+e;n=jQuery(i[0]).html()}jQuery.views.templates(o,n)}return jQuery.templates[o].link(t,this._data),this._links[o]=t,this._linked++,this.debug()&&console.log('ForerunnerDB.Collection: Added binding collection "'+this.name()+'" to output target: '+t),this}throw'Cannot bind view data to output target selector "'+t+'" because it does not exist in the DOM!'}throw"Cannot create a duplicate link to the target: "+t+" with the template: "+o}throw"Cannot data-bind without jQuery, please add jQuery to your page!"},t.prototype.unlink=function(t,e){if(!window.jQuery)throw"Cannot data-bind without jQuery, please add jQuery to your page!";this._links=this._links||{};var o;return e&&"object"==typeof e?e.template&&"string"==typeof e.template&&(o=this.objectId(e.template)):o=e,this._links[o]?(jQuery.templates[o].unlink(t),delete this._links[o],this._linked--,this.debug()&&console.log('ForerunnerDB.Collection: Removed binding collection "'+this.name()+'" to output target: '+t),this):(console.log("Cannot remove link, one does not exist to the target: "+t+" with the template: "+e),this)},t.prototype._dataReplace=function(t){this._linked?jQuery.observable(this._data).refresh(t):o.apply(this,arguments)},t.prototype._dataInsertIndex=function(t,e){this._linked?jQuery.observable(this._data).insert(t,e):n.apply(this,arguments)},t.prototype._dataRemoveIndex=function(t){this._linked?jQuery.observable(this._data).remove(t):i.apply(this,arguments)},t.prototype._updateProperty=function(t,e,o){this._linked?(jQuery.observable(t).setProperty(e,o),this.debug()&&console.log('ForerunnerDB.Collection: Setting data-bound document property "'+e+'" for collection "'+this.name()+'"')):r.apply(this,arguments)},t.prototype._updateIncrement=function(t,e,o){this._linked?jQuery.observable(t).setProperty(e,t[e]+o):a.apply(this,arguments)},t.prototype._updateSpliceMove=function(t,e,o){this._linked?(jQuery.observable(t).move(e,o),this.debug()&&console.log('ForerunnerDB.Collection: Moving data-bound document array index from "'+e+'" to "'+o+'" for collection "'+this.name()+'"')):u.apply(this,arguments)},t.prototype._updateSplicePush=function(t,e,o){this._linked?t.length>e?jQuery.observable(t).insert(e,o):jQuery.observable(t).insert(o):s.apply(this,arguments)},t.prototype._updatePush=function(t,e){this._linked?jQuery.observable(t).insert(e):l.apply(this,arguments)},t.prototype._updatePull=function(t,e){this._linked?jQuery.observable(t).remove(e):p.apply(this,arguments)},t.prototype._updateMultiply=function(t,e,o){this._linked?jQuery.observable(t).setProperty(e,t[e]*o):d.apply(this,arguments)},t.prototype._updateRename=function(t,e,o){this._linked?(jQuery.observable(t).setProperty(o,t[e]),jQuery.observable(t).removeProperty(e)):h.apply(this,arguments)},t.prototype._updateUnset=function(t,e){this._linked?jQuery.observable(t).removeProperty(e):y.apply(this,arguments)},t.prototype._updatePop=function(t,e){var o,n=!1;return this._linked?t.length>0&&(1===e?o=t.length-1:-1===e&&(o=0),o>-1&&(jQuery.observable(arr).remove(o),n=!0)):n=c.apply(this,arguments),n}},AutoBind.extendView=function(t){var e=t.prototype.init;t.prototype.init=function(){this._linked=0,e.apply(this,arguments)},t.prototype.isLinked=function(){return this.data().isLinked()},t.prototype.link=function(t,e){var o=this.publicData();return this.debug()&&console.log('ForerunnerDB.View: Setting up data binding on view "'+this.name()+'" in underlying (internal) view collection "'+o.name()+'" for output target: '+t),o.link(t,e),this},t.prototype.unlink=function(t,e){var o=this.publicData();return this.debug()&&console.log('ForerunnerDB.View: Removing data binding on view "'+this.name()+'" in underlying (internal) view collection "'+o.name()+'" for output target: '+t),o.unlink(t,e),this}},AutoBind.extendOverview=function(t){t.prototype.isLinked=function(){return this.data().isLinked()},t.prototype.link=function(){this._data.link.apply(this._data,arguments),this._refresh()},t.prototype.unlink=function(){this._data.unlink.apply(this._data,arguments),this._refresh()}},AutoBind.extendDocument=function(t){t.prototype.isLinked=function(){return Boolean(this._linked)},t.prototype.link=function(t,e){if(window.jQuery){this._links=this._links||{},this._linked||(this._linked=0);var o,n;if(e&&"object"==typeof e?e.template&&"string"==typeof e.template&&(o=this.objectId(e.template),n=e.template):o=e,!this._links[o]){if(jQuery(t).length){if(!jQuery.templates[o]){if(!n){var i=jQuery(e);if(!i.length)throw"Unable to bind document to target because template does not exist: "+e;n=jQuery(i[0]).html()}jQuery.views.templates(o,n)}return jQuery.templates[o].link(t,this._data),this._links[o]=t,this._linked++,this.debug()&&console.log('ForerunnerDB.Document: Added binding document "'+this.name()+'" to output target: '+t),this}throw'Cannot bind view data to output target selector "'+t+'" because it does not exist in the DOM!'}throw"Cannot create a duplicate link to the target: "+t+" with the template: "+o}throw"Cannot data-bind without jQuery, please add jQuery to your page!"},t.prototype.unlink=function(t,e){if(!window.jQuery)throw"Cannot data-bind without jQuery, please add jQuery to your page!";this._links=this._links||{};var o;return e&&"object"==typeof e?e.template&&"string"==typeof e.template&&(o=this.objectId(e.template)):o=e,this._links[o]?(jQuery.templates[o].unlink(t),delete this._links[o],this._linked--,this.debug()&&console.log('ForerunnerDB.Document: Removed binding document "'+this.name()+'" to output target: '+t),this):void console.log("Cannot remove link, one does not exist to the target: "+t+" with the template: "+e)}},"undefined"==typeof jQuery)throw"Cannot use AutoBind plugin without jQuery - please ensure jQuery is loaded first!";if(jsviews=_dereq_("../lib/vendor/jsviews"),"undefined"==typeof jQuery.views)throw"AutoBind plugin cannot continue because jsViews is not loaded - check your error log for url errors.";var modules=["Collection","View","Overview","Document"],moduleIndex;for(moduleIndex=0;moduleIndex<modules.length;moduleIndex++)Shared.moduleFinished(modules[moduleIndex],function(t,e){AutoBind["extend"+t]&&AutoBind["extend"+t](e)});Shared.finishModule("AutoBind"),Shared.finishModule("AutoBind"),module.exports=AutoBind;
},{"../lib/vendor/jsviews":3}],3:[function(_dereq_,module,exports){
var init=function(){!function(e,t,n){"use strict";function r(e,t){for(var n in t.props)pt.test(n)&&(e[n]=t.props[n])}function i(e){return e}function a(e){return e}function o(e){Ct._dbgMode=e,H=e?"Unavailable (nested view): use #getIndex()":"",wt("dbg",xt.dbg=yt.dbg=e?a:i)}function l(e){this.name=(q.link?"JsViews":"JsRender")+" Error",this.message=e||this.name}function s(e,t){var n;for(n in t)e[n]=t[n];return e}function p(e){return"function"==typeof e}function c(e,t,n){return(!kt.rTag||e)&&(z=e?e.charAt(0):z,W=e?e.charAt(1):W,X=t?t.charAt(0):X,Z=t?t.charAt(1):Z,G=n||G,e="\\"+z+"(\\"+G+")?\\"+W,t="\\"+X+"\\"+Z,K="(?:(?:(\\w+(?=[\\/\\s\\"+X+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+X+"]|\\"+X+"(?!\\"+Z+"))*?)",kt.rTag=K+")",K=new RegExp(e+K+"(\\/)?|(?:\\/(\\w+)))"+t,"g"),Q=new RegExp("<.*>|([^\\\\]|^)[{}]|"+e+".*"+t)),[z,W,X,Z,G]}function f(e,t){t||(t=e,e=n);var r,i,a,o,l=this,s=!t||"root"===t;if(e){if(o=l.type===t?l:n,!o)if(r=l.views,l._.useKey){for(i in r)if(o=r[i].get(e,t))break}else for(i=0,a=r.length;!o&&a>i;i++)o=r[i].get(e,t)}else if(s)for(;l.parent.parent;)o=l=l.parent;else for(;l&&!o;)o=l.type===t?l:n,l=l.parent;return o}function u(){var e=this.get("item");return e?e.index:n}function d(){return this.index}function g(t){var r,i=this,a=i.linkCtx,o=(i.ctx||{})[t];return o===n&&a&&a.ctx&&(o=a.ctx[t]),o===n&&(o=xt[t]),o&&p(o)&&!o._wrp&&(r=function(){return o.apply(this&&this!==e?this:i,arguments)},r._wrp=!0,s(r,o)),r||o}function h(e,t,i,a){var o,l,s=+i===i&&t.tmpl.bnds[i-1],p=t.linkCtx;return a=a!==n&&{props:{},args:[a]},i=a||(s?s(t.data,t,mt):i),l=i.args[0],(e||s)&&(o=p&&p.tag,o||(o={_:{inline:!p,bnd:s},tagName:":",cvt:e,flow:!0,tagCtx:i,_is:"tag"},p&&(p.tag=o,o.linkCtx=p,i.ctx=P(i.ctx,p.view.ctx)),kt._lnk(o)),o._er=a&&l,r(o,i),i.view=t,o.ctx=i.ctx||{},delete i.ctx,t._.tag=o,l=v(o,o.convert||"true"!==e&&e)[0],l=s&&t._.onRender?t._.onRender(l,t,s):l,t._.tag=n),l!=n?l:""}function v(e,t){var n=e.tagCtx,r=n.view,i=n.args;return t=t&&(""+t===t?r.getRsc("converters",t)||N("Unknown converter: '"+t+"'"):t),i=i.length||n.index?t?i.slice():i:[r.data],t&&(t.depends&&(e.depends=kt.getDeps(e.depends,e,t.depends,t)),i[0]=t.apply(e,i)),i}function _(e,t){for(var r,i,a=this;r===n&&a;)i=a.tmpl[e],r=i&&i[t],a=a.parent;return r||mt[e][t]}function m(e,t,i,a,o,l){var p,c,f,u,d,g,h,_,m,b,y,x,w,k,C,j,A,T="",E=t.linkCtx||0,S=t.ctx,B=i||t.tmpl,V=+a===a&&B.bnds[a-1];for("tag"===e._is&&(p=e,e=p.tagName,a=p.tagCtxs),p=p||E.tag,l=l!==n&&(T+=l,[{props:{},args:[]}]),a=l||(V?V(t.data,t,mt):a),g=a.length,d=0;g>d;d++)d||i&&p||(y=t.getRsc("tags",e)||N("Unknown tag: {{"+e+"}}")),_=a[d],(!E.tag||p._er)&&(b=_.tmpl,b=_.content=b&&B.tmpls[b-1],s(_,{tmpl:(p?p:y).template||b,render:I,index:d,view:t,ctx:P(_.ctx,S)})),(i=_.props.tmpl)&&(i=""+i===i?t.getRsc("templates",i)||bt(i):i,_.tmpl=i),p||(y._ctr?(p=new y._ctr,x=!!p.init):kt._lnk(p={render:y.render}),p._={inline:!E},E&&(E.tag=p,p.linkCtx=E),(p._.bnd=V||E.fn)?p._.arrVws={}:p.dataBoundOnly&&N("{^{"+e+"}} tag must be data-bound"),p.tagName=e,p.parent=u=S&&S.tag,p._is="tag",p._def=y,p.tagCtxs=a),_.tag=p,p.dataMap&&p.tagCtxs&&(_.map=p.tagCtxs[d].map),p.flow||(m=_.ctx=_.ctx||{},c=p.parents=m.parentTags=S&&P(m.parentTags,S.parentTags)||{},u&&(c[u.tagName]=u),c[p.tagName]=m.tag=p);if(t._.tag=p,!(p._er=l)){for(r(p,a[0]),p.rendering={},d=0;g>d;d++)_=p.tagCtx=p.tagCtxs[d],j=_.props,C=v(p,p.convert),(w=j.dataMap||p.dataMap)&&(C.length||j.dataMap)&&(k=_.map,(!k||k.src!==C[0]||o)&&(k&&k.src&&k.unmap(),k=_.map=w.map(C[0],j)),C=[k.tgt]),p.ctx=_.ctx,!d&&x&&(A=p.template,p.init(_,E,p.ctx),x=n,p.template!==A&&(p._.tmpl=p.template),E&&(E.attr=p.attr=E.attr||p.attr)),h=n,p.render&&(h=p.render.apply(p,C)),C=C.length?C:[t],h=h!==n?h:_.render(C[0],!0)||(o?n:""),T=T?T+(h||""):h;delete p.rendering}return p.tagCtx=p.tagCtxs[0],p.ctx=p.tagCtx.ctx,p._.inline&&(f=p.attr)&&f!==gt&&(T="text"===f?yt.html(T):""),V&&t._.onRender?t._.onRender(T,t,V):T}function b(e,t,n,r,i,a,o,l){var s,p,c,f=this,d="array"===t,g={key:0,useKey:d?0:1,id:""+ut++,onRender:l,bnds:{}};f.data=r,f.tmpl=i,f.content=o,f.views=d?[]:{},f.parent=n,f.type=t||"top",f._=g,f.linked=!!l,n?(s=n.views,p=n._,p.useKey?(s[g.key="_"+p.useKey++]=f,f.index=H,f.getIndex=u,c=p.tag,g.bnd=d&&(!c||!!c._.bnd&&c)):s.splice(g.key=f.index=a,0,f),f.ctx=e||n.ctx):f.ctx=e}function y(e){var t,n,r,i,a,o,l;for(t in _t)if(a=_t[t],(o=a.compile)&&(n=e[t+"s"]))for(r in n)i=n[r]=o(r,n[r],e),i&&(l=kt.onStore[t])&&l(r,i,o)}function x(e,t,r){var i,a;return p(t)?t={depends:t.depends,render:t}:(t.baseTag&&(t.flow=!!t.flow,t=s(s({},t.baseTag),t)),(a=t.template)!==n&&(t.template=""+a===a?bt[a]||bt(a):a),t.init!==!1&&(i=t._ctr=function(){},(i.prototype=t).constructor=i)),r&&(t._parentTmpl=r),t}function w(r,i,a,o){function l(i){if(""+i===i||i.nodeType>0){try{p=i.nodeType>0?i:!Q.test(i)&&t&&t(e.document).find(i)[0]}catch(l){}return p&&(i=bt[r=r||p.getAttribute(ht)],i||(r=r||"_"+ft++,p.setAttribute(ht,r),i=bt[r]=w(r,p.innerHTML,a,o)),p=n),i}}var s,p;return i=i||"",s=l(i),o=o||(i.markup?i:{}),o.tmplName=r,a&&(o._parentTmpl=a),!s&&i.markup&&(s=l(i.markup))&&(!s.fn||s.debug===i.debug&&s.allowCode===i.allowCode||(s=s.markup)),s!==n?(r&&!a&&(vt[r]=function(){return i.render.apply(i,arguments)}),s.fn||i.fn?s.fn&&(i=r&&r!==s.tmplName?P(o,s):s):(i=C(s,o),B(s.replace(rt,"\\$&"),i)),y(o),i):void 0}function k(e){function t(t,n){this.tgt=e.getTgt(t,n)}return p(e)&&(e={getTgt:e}),e.baseMap&&(e=s(s({},e.baseMap),e)),e.map=function(e,n){return new t(e,n)},e}function C(e,t){var n,r=Ct.wrapMap||{},i=s({markup:e,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:E},t);return t.htmlTag||(n=ot.exec(e),i.htmlTag=n?n[1].toLowerCase():""),n=r[i.htmlTag],n&&n!==r.div&&(i.markup=q.trim(i.markup)),i}function j(e,t){function r(a,o,l){var s,p,c,f;if(a&&"object"==typeof a&&!a.nodeType&&!a.markup&&!a.getTgt){for(c in a)r(c,a[c],o);return mt}return o===n&&(o=a,a=n),a&&""+a!==a&&(l=o,o=a,a=n),f=l?l[i]=l[i]||{}:r,p=t.compile,null===o?a&&delete f[a]:(o=p?o=p(a,o,l):o,a&&(f[a]=o)),p&&o&&(o._is=e),o&&(s=kt.onStore[e])&&s(a,o,p),o}var i=e+"s";mt[i]=r,_t[e]=t}function A(e,t,n){var r=this.jquery&&(this[0]||N('Unknown template: "'+this.selector+'"')),i=r.getAttribute(ht);return E.call(i?bt[i]:bt(r),e,t,n)}function T(e,t,n){if(Ct._dbgMode)try{return e.fn(t,n,mt)}catch(r){return N(r,n)}return e.fn(t,n,mt)}function E(e,t,n,r,i,a){var o=this;return r||!o.fn._nvw||q.isArray(e)?I.call(o,e,t,n,r,i,a):T(o,e,{tmpl:o})}function I(e,t,r,i,a,o){var l,s,p,c,f,u,d,g,h,v,_,m,y,x,w=this,k="";if(!!t===t&&(r=t,t=n),a===!0&&(d=!0,a=0),w.tag?(g=w,w=w.tag,v=w._,m=w.tagName,y=v.tmpl||g.tmpl,x=w.attr&&w.attr!==gt,t=P(t,w.ctx),h=g.content,g.props.link===!1&&(t=t||{},t.link=!1),i=i||g.view,e=arguments.length?e:i):y=w,y&&(!i&&e&&"view"===e._is&&(i=e),i&&(h=h||i.content,o=o||i._.onRender,e===i&&(e=i.data),t=P(t,i.ctx)),i&&"top"!==i.type||((t=t||{}).root=e),y.fn||(y=bt[y]||bt(y)),y)){if(o=(t&&t.link)!==!1&&!x&&o,_=o,o===!0&&(_=n,o=i._.onRender),t=y.helpers?P(y.helpers,t):t,q.isArray(e)&&!r)for(c=d?i:a!==n&&i||new b(t,"array",i,e,y,a,h,o),l=0,s=e.length;s>l;l++)p=e[l],f=new b(t,"item",c,p,y,(a||0)+l,h,o),u=T(y,p,f),k+=c._.onRender?c._.onRender(u,f):u;else(i||!y.fn._nvw)&&(c=d?i:new b(t,m||"data",i,e,y,a,h,o),v&&!w.flow&&(c.tag=w)),k+=T(y,e,c);return _?_(k,c):k}return""}function N(e,t,n){var r=Ct.onError(e,t,n);if(""+e===e)throw new kt.Err(r);return!t.linkCtx&&t.linked?yt.html(r):r}function S(e){N("Syntax error\n"+e)}function B(e,t,n,r){function i(t){t-=u,t&&g.push(e.substr(u,t).replace(tt,"\\n"))}function a(t){t&&S('Unmatched or missing tag: "{{/'+t+'}}" in template:\n'+e)}function o(o,l,f,v,_,m,b,y,x,w,k,C){m&&(_=":",v=gt),w=w||n;var j=(l||n)&&[[]],A="",T="",E="",I="",N="",B="",V="",M="",$=!w&&!_&&!b;f=f||(x=x||"#data",_),i(C),u=C+o.length,y?c&&g.push(["*","\n"+x.replace(nt,"$1")+"\n"]):f?("else"===f&&(at.test(x)&&S('for "{{else if expr}}" use "{{else expr}}"'),j=h[7],h[8]=e.substring(h[8],C),h=d.pop(),g=h[2],$=!0),x&&(R(x.replace(tt," "),j,t).replace(it,function(e,t,n,r,i,a,o,l){return o?(T+=a+",",I+="'"+l+"',"):n?(E+=r+a+",",B+=r+"'"+l+"',"):t?V+=a:("trigger"===i&&(M+=a),A+=r+a+",",N+=r+"'"+l+"',",p=p||pt.test(i)),""}).slice(0,-1),j&&j[0]&&j.pop()),s=[f,v||!!r||p||"",$&&[],L(I,N,B),L(T,A,E),V,M,j||0],g.push(s),$&&(d.push(h),h=s,h[8]=u)):k&&(a(k!==h[0]&&"else"!==h[0]&&k),h[8]=e.substring(h[8],C),h=d.pop()),a(!h&&k),g=h[2]}var l,s,p,c=t&&t.allowCode,f=[],u=0,d=[],g=f,h=[,,f];return n&&(e=z+e+Z),a(d[0]&&d[0][2].pop()[0]),e.replace(K,o),i(e.length),(u=f[f.length-1])&&a(""+u!==u&&+u[8]===u[8]&&u[0]),n?(l=$(f,e,n),V(l,f[0][7])):l=$(f,t),l._nvw&&(l._nvw=!/[~#]/.test(e)),l}function V(e,t){e.deps=[];for(var n in t)"_jsvto"!==n&&t[n].length&&(e.deps=e.deps.concat(t[n]));e.paths=t}function L(e,t,n){return[e.slice(0,-1),t.slice(0,-1),n.slice(0,-1)]}function M(e,t){return"\n	"+(t?t+":{":"")+"args:["+e[0]+"]"+(e[1]||!t?",\n	props:{"+e[1]+"}":"")+(e[2]?",\n	ctx:{"+e[2]+"}":"")}function R(e,t,n){function r(r,h,v,_,m,b,y,x,w,k,C,j,A,T,E,I,N,V,L,M){function R(e,n,r,l,s,c,f,u){if(r&&(p&&("linkTo"===i&&(a=t._jsvto=t._jsvto||[],a.push(m)),(!i||o)&&p.push(m.slice(n.length))),"."!==r)){var d=(l?'view.hlp("'+l+'")':s?"view":"data")+(u?(c?"."+c:l?"":s?"":"."+r)+(f||""):(u=l?"":s?c||"":r,""));return d+=u?"."+u:"",n+("view.data"===d.slice(0,9)?d.slice(5):d)}return e}b=b||"",v=v||h||j,m=m||w,k=k||N||"";var $,P,O,F=M.length-1;return!y||s||l?(p&&I&&!s&&!l&&(!i||o||a)&&($=d[g],F>L-$&&($=M.slice($,L+1),I=W+":"+$+X,O=f[I],O||(f[I]=!0,f[I]=O=B(I,n||p,!0),O.paths.push({_jsvOb:O})),O!==!0&&(a||p).push({_jsvOb:O}))),s?(s=!A,s?r:'"'):l?(l=!T,l?r:'"'):(v?(g++,d[g]=L++,v):"")+(V?g?"":(c=M.slice(c,L),(i?(i=o=a=!1,"\b"):"\b,")+c+(c=L+r.length,p&&t.push(p=[]),"\b")):x?(g&&S(e),p&&t.pop(),i=m,o=_,c=L+r.length,_&&(p=t[i]=[]),m+":"):m?m.split("^").join(".").replace(Y,R)+(k?(u[++g]=!0,"."!==m.charAt(0)&&(d[g]=L),P?"":k):b):b?b:E?(u[g--]=!1,E+(k?(u[++g]=!0,k):"")):C?(u[g]||S(e),","):h?"":(s=A,l=T,'"'))):void S(e)}var i,a,o,l,s,p=t&&t[0],c=0,f=n?n.links:p&&(p.links=p.links||{}),u={},d={0:-1},g=0;return(e+(n?" ":"")).replace(/\)\^/g,").").replace(et,r)}function $(e,t,r){var i,a,o,l,s,p,c,f,u,d,g,h,v,_,m,b,y,x,w,k,j,A,T,E,I,N,B,L,R,P,O,F=0,D="",q={},U=e.length;for(""+t===t?(w=r?'data-link="'+t.replace(tt," ").slice(1,-1)+'"':t,t=0):(w=t.tmplName||"unnamed",t.allowCode&&(q.allowCode=!0),t.debug&&(q.debug=!0),h=t.bnds,x=t.tmpls),i=0;U>i;i++)if(a=e[i],""+a===a)D+='\n+"'+a+'"';else if(o=a[0],"*"===o)D+=";\n"+a[1]+"\nret=ret";else{if(l=a[1],A=a[2],s=M(a[3],"params")+"},"+M(_=a[4]),R=a[5],O=a[6],T=a[8],(N="else"===o)||(F=0,h&&(v=a[7])&&(F=h.push(v))),(B=":"===o)?l&&(o=l===gt?">":l+o):(A&&(k=C(T,q),k.tmplName=w+"/"+o,$(A,k),x.push(k)),N||(j=o,I=D,D=""),E=e[i+1],E=E&&"else"===E[0]),P=R?";\ntry{\nret+=":"\n+",m="",b="",B&&(v||O||l&&l!==gt)){if(L="return {"+s+"};",y='c("'+l+'",view,',L=new Function("data,view,j,u"," // "+w+" "+F+" "+o+"\n"+L),L._er=R,m=y+F+",",b=")",L._tag=o,r)return L;V(L,v),g=!0}if(D+=B?(r?(R?"\ntry{\n":"")+"return ":P)+(g?(g=n,d=u=!0,y+(v?(h[F-1]=L,F):"{"+s+"}")+")"):">"===o?(c=!0,"h("+_[0]+")"):(f=!0,"((v="+_[0]+')!=null?v:"")')):(d=p=!0,"\n{view:view,tmpl:"+(A?x.length:"0")+","+s+"},"),j&&!E){if(D="["+D.slice(0,-1)+"]",y='t("'+j+'",view,this,',r||v){if(D=new Function("data,view,j,u"," // "+w+" "+F+" "+j+"\nreturn "+D+";"),D._er=R,D._tag=o,v&&V(h[F-1]=D,v),r)return D;m=y+F+",undefined,",b=")"}D=I+P+y+(F||D)+")",v=0,j=0}R&&(d=!0,D+=";\n}catch(e){ret"+(r?"urn ":"+=")+m+"j._err(e,view,"+R+")"+b+";}\n"+(r?"":"ret=ret"))}D="// "+w+"\nvar v"+(p?",t=j._tag":"")+(u?",c=j._cnvt":"")+(c?",h=j.converters.html":"")+(r?";\n":',ret=""\n')+(q.debug?"debugger;":"")+D+(r?"\n":";\nreturn ret;");try{D=new Function("data,view,j,u",D)}catch(K){S("Compiled template code:\n\n"+D+'\n: "'+K.message+'"')}return t&&(t.fn=D),d||(D._nvw=!0),D}function P(e,t){return e&&e!==t?t?s(s({},t),e):e:t&&s({},t)}function O(e){return dt[e]||(dt[e]="&#"+e.charCodeAt(0)+";")}function F(e){var t,n,r=[];if("object"==typeof e)for(t in e)n=e[t],n&&n.toJSON&&!n.toJSON()||p(n)||r.push({key:t,prop:n});return r}function D(e){return null!=e?st.test(e)&&(""+e).replace(ct,O)||e:""}if(!(t&&t.render||e.jsviews)){var q,U,K,Q,H,J="v1.0.0-beta",z="{",W="{",X="}",Z="}",G="^",Y=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,et=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*\.|\s*\^|\s*$)|[)\]])([([]?))|(\s+)/g,tt=/[ \t]*(\r\n|\n|\r)/g,nt=/\\(['"])/g,rt=/['"\\]/g,it=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,at=/^if\s/,ot=/<(\w+)[>\s]/,lt=/[\x00`><"'&]/g,st=/[\x00`><\"'&]/,pt=/^on[A-Z]|^convert(Back)?$/,ct=lt,ft=0,ut=0,dt={"&":"&amp;","<":"&lt;",">":"&gt;","\x00":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;"},gt="html",ht="data-jsv-tmpl",vt={},_t={template:{compile:w},tag:{compile:x},helper:{},converter:{}},mt={jsviews:J,settings:function(e){s(Ct,e),o(Ct._dbgMode),Ct.jsv&&Ct.jsv()},sub:{View:b,Err:l,tmplFn:B,cvt:v,parse:R,extend:s,syntaxErr:S,onStore:{},_lnk:i,_ths:r},map:k,_cnvt:h,_tag:m,_err:N};(l.prototype=new Error).constructor=l,u.depends=function(){return[this.get("item"),"index"]},d.depends=function(){return["index"]},b.prototype={get:f,getIndex:d,getRsc:_,hlp:g,_is:"view"};for(U in _t)j(U,_t[U]);var bt=mt.templates,yt=mt.converters,xt=mt.helpers,wt=mt.tags,kt=mt.sub,Ct=mt.settings;t?(q=t,q.fn.render=A,q.observable&&(s(kt,q.views.sub),mt.map=q.views.map)):(q=e.jsviews={},q.isArray=Array&&Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}),q.render=vt,q.views=mt,q.templates=bt=mt.templates,Ct({debugMode:o,delimiters:c,onError:function(e,t,r){return t&&(e=r===n?"{Error: "+e+"}":p(r)?r(e,t):r),e==n?"":e},_dbgMode:!0}),wt({"else":function(){},"if":{render:function(e){var t=this,n=t.rendering.done||!e&&(arguments.length||!t.tagCtx.index)?"":(t.rendering.done=!0,t.selected=t.tagCtx.index,t.tagCtx.render(t.tagCtx.view,!0));return n},onUpdate:function(e,t,n){var r,i,a;for(r=0;(i=this.tagCtxs[r])&&i.args.length;r++)if(i=i.args[0],a=!i!=!n[r].args[0],!this.convert&&i||a)return a;return!1},flow:!0},"for":{render:function(e){var t,r=this,i=r.tagCtx,a="",o=0;return r.rendering.done||((t=!arguments.length)&&(e=i.view.data),e!==n&&(a+=i.render(e,t),o+=q.isArray(e)?e.length:1),(r.rendering.done=o)&&(r.selected=i.index)),a},flow:!0},include:{flow:!0},"*":{render:i,flow:!0}}),wt("props",{baseTag:wt["for"],dataMap:k(F)}),yt({html:D,attr:D,url:function(e){return e!=n?encodeURI(""+e):null===e?e:""}}),c()}}(this,this.jQuery),function(e,t,n){"use strict";function r(e){return w(e)?new a(e):new i(e)}function i(e){return this._data=e,this}function a(e){return this._data=e,this}function o(e){return w(e)?[e]:e}function l(e,t){e=w(e)?e:[e];var n,r,i=t,a=i,o=e.length,s=[];for(n=0;o>n;n++)r=e[n],S(r)?s=s.concat(l(r.call(t,t),t)):""+r===r?(a!==i&&s.push(i=a),s.push(r)):(t=a=r,a!==i&&s.push(i=a));return s}function s(e,t){var n,r;for(n in e){r=!0;break}r||delete I[t]}function p(e,t){if(!e.data||!e.data.off){var r,i,a,o,l,s=t.oldValue,p=t.value,c=e.data,f=c.observeAll,d=!c.cb.noArray,g=c.paths;e.type===E?(c.cb.array||c.cb).call(c,e,t):(c.prop===t.path||"*"===c.prop)&&(o=typeof s===C&&(g[0]||d&&w(s)),l=typeof p===C&&(g[0]||d&&w(p)),f?(r=f._path+"."+t.path,i=f.filter,a=[e.target].concat(f.parents()),o&&u(d,f.ns,[s],g,c.cb,!0,i,[a],r),l&&u(d,f.ns,[p],g,c.cb,n,i,[a],r)):(o&&u(d,[s],g,c.cb,!0),l&&u(d,[p],g,c.cb)),c.cb(e,t))}}function c(){function e(e,n,r,i){var a,l,s=L(et),c=o(et);if(e=K?e+"."+K:e,m||i)s&&t(c).off(e,p);else{if(M=s&&t._data(et))for(M=M&&M.events,M=M&&M[r?E:T],k=M&&M.length;k--;)if((j=M[k].data)&&j.cb._cId===b._cId&&j.ns===K){if(r)return;("*"===n&&j.prop!==n||j.prop===h)&&t(et).off(e,p)}l=r?{}:{fullPath:v,paths:n?[n]:[],prop:h},l.ns=K,l.cb=b,q&&(l.observeAll={_path:q,path:function(){return a=D.length,q.replace(/[[.]/g,function(e){return a--,"["===e?"["+t.inArray(D[a-1],D[a]):"."})},parents:function(){return D},filter:U,ns:K}),t(c).on(e,null,l,p),P&&(P[t.data(et,"obId")||t.data(et,"obId",B++)]=et)}}function i(e,t){e._ob=R(e,G);var n=G;return function(r,i){var o=e._ob,l=t.length;typeof o===C&&(a(o,!0),(l||J&&w(o))&&u(J,[o],t,b,R,!0)),o=e._ob=R(e,n),typeof o===C&&(a(o),(l||J&&w(o))&&u(J,[o],t,b,R,[n])),b(r,i)}}function a(t,i,a,o){if(J){var l=et,s=q;et=t,o&&(et=t[o],q+="."+o),U&&et&&(et=r._fltr(q,et,o?[t].concat(D):D,U)),et&&(a||w(et))&&e(E+".observe"+(b?".obs"+(y=b._cId=b._cId||V++):""),n,!0,i),et=l,q=s}}var c,f,d,g,h,v,_,m,b,y,k,j,M,R,$,P,O,F,D,q,U,K,Q,H,J=0!=this,z=!0,W=N,X=Array.apply(0,arguments),Z=X.pop(),G=X.shift(),Y=G,et=Y,tt=X.length;for(G+""===G&&J&&(K=G,G=et=Y=X.shift(),tt--),S(Z)?b=Z:(Z+""===Z&&(q=Z,D=X.pop(),U=X.pop(),Z=X.pop(),tt-=3),Z===!0?m=Z:Z&&(G=Z,z=n),Z=X[tt-1],(tt&&Z===n||S(Z))&&(b=X.pop(),tt--)),tt&&S(X[tt-1])&&(R=b,b=X.pop(),tt--),W+=m?b?".obs"+b._cId:"":".obs"+(y=b._cId=b._cId||V++),m||(P=I[y]=I[y]||{}),Q=K&&K.match(A)||[""],H=Q.length;H--;)for(K=Q[H],w(Y)?a(Y,m,!0):m&&0===tt&&Y&&e(W,""),O=0,c=0;tt>c;c++)if(v=X[c],""!==v){if(et=Y,""+v===v){if(g=v.split("^"),g[1]&&(O=g[0].split(".").length,v=g.join("."),O=v.split(".").length-O),R&&($=R(v,Y))){tt+=$.length-1,x.apply(X,[c--,1].concat($));continue}g=v.split(".")}else z&&!S(v)&&(v&&v._jsvOb&&(F=i(v,X.slice(c+1)),F.noArray=!J,F._cId=b._cId,u(J,[G],X.slice(0,c),F,R),F=n,v=v._ob),et=v),Y=v,g=[Y];for(;et&&(h=g.shift())!==n;)if(typeof et===C){if(""+h===h){if(""===h)continue;if(g.length<O+1&&!et.nodeType){if(!m&&(M=L(et)&&t._data(et))){for(M=M.events,M=M&&M[T],k=M&&M.length,d=0;k--;)j=M[k].data,j&&j.cb===b&&j.ns===K&&(j.prop===h||"*"===j.prop)&&((f=g.join("."))&&j.paths.push(f),d++);if(d){et=et[h];continue}}if("*"===h){!m&&M&&M.length&&e(W,"",!1,!0),S(et)?(_=et.depends)&&u(J,[_],b,m||G):e(W,"");for(f in et)a(et,m,n,f);break}h&&e(W+"."+h,g.join("^"))}q&&(q+="."+h),h=et[h]}if(S(h)){(_=h.depends)&&u(J,[et],l(_,et),b,R,m||[G]);break}et=h}a(et,m)}return y&&s(P,y),{cbId:y,bnd:P}}function f(){return[].push.call(arguments,!0),c.apply(this,arguments)}function u(){var e=[].concat.apply([],arguments);return c.apply(e.shift(),e)}function d(e,t,n,r){e+""!==e&&(n=t,t=e,e=""),h(e,this._data,t,n,[],"root",r)}function g(e,t,n){d.call(this,e,t,n,!0)}function h(e,t,i,a,o,l,s){function p(e,t){for(d=e.length,_=[[e]].concat(_),v=l+"[]";d--;)f(e,d,t,1)}function f(t,o,l,s){var p;o!==k&&(p=r._fltr(v,t[o],_,a))&&h(e,p,i,a||(s?n:0),_.slice(),v,l)}function u(e,t){var n=o;switch(l=e.data.observeAll._path,_=[e.target].concat(o),t.change){case"insert":p(t.items);break;case"remove":p(t.items,!0);break;case"refresh":p(t.oldItems,!0),p(e.target);break;case"set":v=l+"."+t.path,f(t,"oldValue",!0),f(t,"value")}i.apply(this,arguments),o=n}var d,g,v,_;if(typeof t===C)if(g=w(t)?"":"*",i?(g||0!==a)&&(u._cId=i._cId=i._cId||V++,c(e,t,g,u,s,a,o,l)):c(e,t,g,n,s,a,o,l),g){_=[t].concat(o);for(d in t)v=l+"."+d,f(t,d,s)}else p(t,s)}function v(e){return e.indexOf(".")<0&&e.indexOf("[")<0}if(!t)throw"jsViews/jsObservable require jQuery";if(!t.observable){var _="v1.0.0-alpha",m=t.views=t.views||{jsviews:_,sub:{}},b=m.sub,y=t.event.special,x=[].splice,w=t.isArray,k=t.expando,C="object",j=parseInt,A=/\S+/g,T=b.propChng=b.propChng||"propertyChange",E=b.arrChng=b.arrChng||"arrayChange",I=b._cbBnds=b._cbBnds||{},N=T+".observe",S=t.isFunction,B=1,V=1,L=t.hasData,M={};b.getDeps=function(){var e=arguments;return function(){for(var t,n,r=[],i=e.length;i--;)t=e[i--],n=e[i],n&&(r=r.concat(S(n)?n(t,t):n));return r}},t.observable=r,r._fltr=function(e,t,n,r){return(r&&S(r)?r(e,t,n):!0)?(t=S(t)?t.set&&t.call(n[0]):t,typeof t===C&&t):void 0},r.Object=i,r.Array=a,t.observe=r.observe=c,t.unobserve=r.unobserve=f,r._apply=u,i.prototype={_data:null,observeAll:d,unobserveAll:g,data:function(){return this._data},setProperty:function(e,t,r){var i,a,o,l=this,s=l._data;if(e=e||"",s)if(w(e))for(i=e.length;i--;)a=e[i],l.setProperty(a.name,a.value,r===n||r);else if(""+e!==e)for(i in e)l.setProperty(i,e[i],t);else if(e!==k){for(o=e.split(".");s&&o.length>1;)s=s[o.shift()];s&&l._setProperty(s,o[0],t,r)}return l},removeProperty:function(e){return this.setProperty(e,M),this},_setProperty:function(e,t,r,i){var a,o,l,s=t?e[t]:e;S(s)&&s.set&&(o=s,a=s.set===!0?s:s.set,s=s.call(e)),(s!==r||i&&s!=r)&&(!(s instanceof Date)||s>r||r>s)&&(a?(a.call(e,r),r=o.call(e)):(l=r===M)?(delete e[t],r=n):t&&(e[t]=r),this._trigger(e,{change:"set",path:t,value:r,oldValue:s,remove:l}))},_trigger:function(e,n){t(e).triggerHandler(T,n)}},a.prototype={_data:null,observeAll:d,unobserveAll:g,data:function(){return this._data},insert:function(e,t){var n=this._data;return 1===arguments.length&&(t=e,e=n.length),e=j(e),e>-1&&e<=n.length&&(t=w(t)?t:[t],t.length&&this._insert(e,t)),this},_insert:function(e,t){var n=this._data,r=n.length;x.apply(n,[e,0].concat(t)),this._trigger({change:"insert",index:e,items:t},r)},remove:function(e,t){var r,i=this._data;return e===n&&(e=i.length-1),e=j(e),t=t?j(t):0===t?0:1,t>-1&&e>-1&&(r=i.slice(e,e+t),t=r.length,t&&this._remove(e,t,r)),this},_remove:function(e,t,n){var r=this._data,i=r.length;r.splice(e,t),this._trigger({change:"remove",index:e,items:n},i)},move:function(e,t,n){if(n=n?j(n):0===n?0:1,e=j(e),t=j(t),n>0&&e>-1&&t>-1&&e!==t){var r=this._data.slice(e,e+n);n=r.length,n&&this._move(e,t,n,r)}return this},_move:function(e,t,n,r){var i=this._data,a=i.length;i.splice(e,n),i.splice.apply(i,[t,0].concat(r)),this._trigger({change:"move",oldIndex:e,index:t,items:r},a)},refresh:function(e){var t=this._data.slice();return this._refresh(t,e),this},_refresh:function(e,t){var n=this._data,r=n.length;x.apply(n,[0,n.length].concat(t)),this._trigger({change:"refresh",oldItems:e},r)},_trigger:function(e,n){var r=this._data,i=r.length,a=t([r]);a.triggerHandler(E,e),i!==n&&a.triggerHandler(T,{change:"set",path:"length",value:i,oldValue:n})}},y[T]=y[E]={remove:function(e){var n,r,i,a,o,l=e.data;if(l&&(l.off=!0,l=l.cb)&&(n=I[l._cId])){for(i=t._data(this).events[e.type],a=i.length;a--&&!r;)r=(o=i[a].data)&&o.cb===l;r||(delete n[t.data(this,"obId")],s(n,l._cId))}}},m.map=function(e){function i(t,i,a){var o,l=this;this.src&&this.unmap(),"object"==typeof t&&(l.src=t,l.tgt=a||l.tgt||[],l.options=i||l.options,l.update(),e.obsSrc&&r(l.src).observeAll(l.obs=function(t,r){o||(o=!0,e.obsSrc(l,t,r),o=n)},l.srcFlt),e.obsTgt&&r(l.tgt).observeAll(l.obt=function(t,r){o||(o=!0,e.obsTgt(l,t,r),o=n)},l.tgtFlt))}return S(e)&&(e={getTgt:e}),e.baseMap&&(e=t.extend({},e.baseMap,e)),e.map=function(e,t,n){return new i(e,t,n)},(i.prototype={srcFlt:e.srcFlt||v,tgtFlt:e.tgtFlt||v,update:function(t){var n=this;r(n.tgt).refresh(e.getTgt(n.src,n.options=t||n.options))},unmap:function(){var e=this;e.src&&(e.obs&&r(e.src).unobserveAll(e.obs,e.srcFlt),e.obt&&r(e.tgt).unobserveAll(e.obt,e.tgtFlt),e.src=n)},map:i,_def:e}).constructor=i,e}}}(this,this.jQuery),function(e,t,n){"use strict";function r(e,r,i){var a,o,l,s,c,f,u,d,g,h,v,_,m,b,y,x,w=e.target,k=w._jsvBnd,C=/&(\d+)\+?/g;if(k)for(;h=C.exec(k);)(h=Ut[h[1]])&&(y=h.to)&&(s=h.linkCtx,g=s.view,b=s.tag,d=t(w),_=g.hlp(_t),m=g.hlp(mt),l=p(w),a=It[l],i===n&&(i=st(l)?l(w):a?d[a]():d.attr(l)),f=y[1],y=y[0],f&&(c=st(f)?f:g.getRsc("converters",f)),c&&(i=c.call(b,i)),v=g.linkCtx,g.linkCtx=s,x={change:"change",oldValue:s._val,value:i},_&&(o=_.call(s,e,x)===!1)||b&&b.onBeforeChange&&(o=b.onBeforeChange(e,x)===!1)||i===n||(u=y[0],i!==n&&u&&(u=u._jsvOb?u._ob:u,b&&(b._.chging=!0),ft(u).setProperty(y[2]||y[1],i),m&&m.call(s,e,x),b&&(b.onAfterChange&&b.onAfterChange(e,x),delete b._.chging),s._val=i)),g.linkCtx=v)}function i(e,t,r){var i,l,s,c,f,d,g=this,h=g.tag,v=g.data,_=g.elem,m=g.convert,b=_.parentNode,y=g.view,x=y.linkCtx,w=y.hlp(_t);if(y.linkCtx=g,!(!b||w&&t&&w.call(g,e,t)===!1||t&&"*"!==e.data.prop&&e.data.prop!==t.path)){if(t&&(g.eventArgs=t),t||g._initVal){if(delete g._initVal,r._er)try{l=r(v,y)}catch(k){f=r._er,d=W(k,y,new Function("data,view","return "+f+";")(v,y)),l=[{props:{},args:[d]}]}else l=r(v,y,it);if(i=a(l,g,h=g.tag,g.attr||p(_,!0,m!==n)),h){if(c=f||h._er,l=l[0]?l:[l],s=!c&&t&&h.onUpdate&&h.onUpdate(e,t,l)===!1,E(h,l,c),s||i===kt)return i===Et&&h.onBeforeLink&&h.onBeforeLink(),C(h,h.tagCtx),u(g,v,_),void(y.linkCtx=x);if(h._.chging)return;l=":"===h.tagName?it._cnvt(h.cvt,y,l[0]):it._tag(h,y,y.tmpl,l,!0,d)}else r._tag&&(m=""===m?Ct:m,l=m?it._cnvt(m,y,l[0]||l):it._tag(r._tag,y,y.tmpl,l,!0,d),h=g.tag,i=g.attr||i);o(l,g,i,h)&&t&&(w=y.hlp(mt))&&w.call(g,e,t),h&&(h._er=f,C(h,h.tagCtx))}u(g,v,_),y.linkCtx=x}}function a(e,r,i,a){var o,l,s,p,c=i&&i.parentElem||r.elem;if(e!==n){if(p=t(c),a=i&&i.attr||a,st(e)&&W(r.expr+": missing parens"),s=/^css-/.test(a)&&a.slice(4))o=t.style(c,s),+e===e&&(o=parseInt(o));else if("link"!==a){if("value"===a)c.type===xt&&(o=p.prop(a=yt));else if(a===wt){if(c.value!==""+e)return a;o=p.prop(yt)}o===n&&(l=It[a],o=l?p[l]():p.attr(a))}r._val=o}return a}function o(r,i,a,o){var l,s,p,c,f,d,g,h,v,_,m,b,y,x=r!==n,w=i.data,k=o&&o.parentElem||i.elem,C=t(k),j=i.view,A=i._val,T=j.linkCtx,E=o||a===Et;if(o&&(o.parentElem=o.parentElem||i.expr||o._elCnt?k:k.parentNode,s=o._prv,p=o._nxt),!x)return void(a===Et&&o&&o.onBeforeLink&&o.onBeforeLink());if("visible"===a&&(a="css-display"),/^css-/.test(a))"visible"===i.attr&&(y=(k.currentStyle||Gt.call(e,k,"")).display,r?(r=k._jsvd||y,r!==kt||(r=qt[b=k.nodeName])||(m=rt.createElement(b),rt.body.appendChild(m),r=qt[b]=(m.currentStyle||Gt.call(e,m,"")).display,rt.body.removeChild(m))):(k._jsvd=y,r=kt)),(E=E||A!==r)&&t.style(k,a.slice(4),r);else if("link"!==a){if(a===yt)d=!0,r=r&&"false"!==r;else if(a===wt){if(k.value!==""+r)return void u(i,w,k);r=d=!0,a=yt}else("selected"===a||"disabled"===a||"multiple"===a||"readonly"===a)&&(r=r&&"false"!==r?a:null);(l=It[a])?a===Et?(j.linkCtx=i,o&&o._.inline?(f=o.nodes(!0),o._elCnt&&(s&&s!==p?M(s,p,k,o._tgId,"^",!0):(g=k._dfr)&&(h=o._tgId+"^",v=g.indexOf("#"+h)+1,_=g.indexOf("/"+h),v&&_>0&&(v+=h.length,_>v&&(k._dfr=g.slice(0,v)+g.slice(_),R(g.slice(v,_))))),s=s?s.previousSibling:p?p.previousSibling:k.lastChild),t(f).remove(),o&&o.onBeforeLink&&o.onBeforeLink(),c=j.link(j.data,k,s,p,r,o&&{tag:o._tgId,lazyLink:o.tagCtx.props.lazyLink})):(x&&C.empty(),o&&o.onBeforeLink&&o.onBeforeLink(),x&&(c=j.link(w,k,s,p,r,o&&{tag:o._tgId}))),j.linkCtx=T):(E=E||A!==r)&&("text"===a&&k.children&&!k.children[0]?k.textContent!==n?k.textContent=r:k.innerText=null===r?"":r:C[l](r)):(E=E||A!==r)&&C[d?"prop":"attr"](a,r!==n||d?r:null),i._val=r}return c||E}function l(e,t){var n=this,r=n.hlp(_t),i=n.hlp(mt);if(!r||r.call(this,e,t)!==!1){if(t){var a=t.change,o=t.index,l=t.items;switch(a){case"insert":n.addViews(o,l);break;case"remove":n.removeViews(o,l.length);break;case"move":n.refresh();break;case"refresh":n.refresh()}}i&&i.call(this,e,t)}}function s(e){var r,i,a=e.type,o=e.data,s=e._.bnd;!e._.useKey&&s&&((i=e._.bndArr)&&(t([i[1]]).off(ht,i[0]),e._.bndArr=n),s!==!!s&&s._.inline?a?s._.arrVws[e._.id]=e:delete s._.arrVws[e._.id]:a&&o&&(r=function(t){t.data&&t.data.off||l.apply(e,arguments)},t([o]).on(ht,r),e._.bndArr=[r,o]))}function p(e,t,n){var r=e.nodeName.toLowerCase(),i=ot.merge[r]||e.contentEditable===Ct&&{to:Et,from:Et};return i?t?"input"===r&&e.type===wt?wt:i.to:i.from:t?n?"text":Et:""}function c(e,r,i,a,o,l,s){var p,c,f,u,d,g=e.parentElem,h=e._prv,v=e._nxt,_=e._elCnt;if(h&&h.parentNode!==g&&W("Missing parentNode"),s){u=e.nodes(),_&&h&&h!==v&&M(h,v,g,e._.id,"_",!0),e.removeViews(n,n,!0),c=v,_&&(h=h?h.previousSibling:v?v.previousSibling:g.lastChild),t(u).remove();for(d in e._.bnds)N(d)}else{if(r){if(f=a[r-1],!f)return!1;h=f._nxt}_?(c=h,h=c?c.previousSibling:g.lastChild):c=h.nextSibling}p=i.render(o,l,e._.useKey&&s,e,s||r,!0),e.link(o,g,h,c,p,f)}function f(e,t,r){var i,a,o;return r?(o="^`",a=t._.tag,i=a._tgId,i||(Ut[i=Kt++]=a,a._tgId=""+i)):(o="_`",tt[i=t._.id]=t),"#"+i+o+(e!=n?e:"")+"/"+i+o}function u(e,t,r){var i,a,o,l=e.tag,s=e.convertBack,p=[],c=e._bndId||""+Kt++,f=e._hdlr;if(delete e._bndId,l&&(p=l.depends||p,p=st(p)?l.depends(l):p,o=l.linkedElem),e._depends&&""+e._depends==""+p||(e._depends&&ft._apply(!1,[t],e._depends,f,!0),i=ft._apply(!1,[t],e.fn.deps,p,f,e._ctxCb),i.elem=r,i.linkCtx=e,i._tgId=c,r._jsvBnd=r._jsvBnd||"",r._jsvBnd+="&"+c,e._depends=p,e.view._.bnds[c]=c,Ut[c]=i,o&&(i.to=[[],s]),(o||s!==n)&&T(i,l&&l.convertBack||s),l&&(l.onAfterBind&&l.onAfterBind(i),l.flow||l._.inline||(r.setAttribute(dt,(r.getAttribute(dt)||"")+"#"+c+"^/"+c+"^"),l._tgId=""+c))),o&&o[0])for(l._.radio&&(o=o.children("input[type=radio]")),a=o.length;a--;)o[a]._jsvBnd=o[a]._jsvBnd||r._jsvBnd+"+",o[a]._jsvLkEl=l}function d(e,t,n,r,i,a,o){return g(this,e,t,n,r,i,a,o)}function g(e,i,a,o,l,s,p,c){if(e&&i){i=i.jquery?i:t(i),F||(F=rt.body,t(F).on(vt,r).on("blur","[contenteditable]",r));for(var u,d,g,h,_,m,b,x,w=f,k=o&&"replace"===o.target,C=i.length;C--;)if(b=i[C],""+e===e)v(e,b,D(b),n,!0,a,o);else{if(s=s||D(b),e.markup!==n)s.link===!1&&(o=o||{},o.link=w=!1),k&&(m=b.parentNode),g=e.render(a,o,l,s,n,w),m?(p=b.previousSibling,c=b.nextSibling,t.cleanData([b],!0),m.removeChild(b),b=m):(p=c=n,t(b).empty());else{if(e!==!0||s!==et)break;x={lnk:1}}if(b._dfr&&!c){for(h=y(b._dfr,!0,Jt),u=0,d=h.length;d>u;u++)_=h[u],(_=tt[_.id])&&_.data!==n&&_.parent.removeViews(_._.key,n,!0);b._dfr=""}s.link(a,b,p,c,g,x,o)}}return i}function h(e,r,i,a,o,p,c,u){function d(e,t,r,i,a,l,s,p,c,f,u,d,g){var h,v="";return g?(b=0,e):(j=p||c||"",i=i||f,r=r||d,lt&&!r&&(i||j||l)&&(lt=n,at=It.shift()),i=i||r,i&&(b=0,lt=n,Q&&(r||d?Dt[at]||/;svg;|;math;/.test(";"+It.join(";")+";")||(h="'<"+at+".../"):Dt[i]?h="'</"+i:It.length&&i===at||(h="Mismatch: '</"+i),h&&Lt(h+">' in:\n"+o)),ut=ft,at=It.shift(),ft=Ot[at],f=f?"</"+f+">":"",ut&&(Tt+=ht,ht="",ft?Tt+="-":(v=f+At+"@"+Tt+jt+(u||""),Tt=Nt.shift()))),ft?(l?ht+=l:t=f||d||"",j&&(t+=j,ht&&(t+=" "+dt+'="'+ht+'"',ht=""))):t=l?t+v+a+At+l+jt+s+j:v||e,b&&l&&Lt(" No {^{ tags within elem markup ("+b+' ). Use data-link="..."'),j&&(b=j,It.unshift(at),at=j.slice(1),It[0]&&It[0]===Ft[at]&&W("Parent of <tr> must be <tbody>"),lt=Dt[at],(ft=Ot[at])&&!ut&&(Nt.unshift(Tt),Tt=""),ut=ft,Tt&&ft&&(Tt+="+")),t)}function g(e,t){var i,a,o,p,c,u,d,g=[];if(e){for("@"===e._tkns.charAt(0)&&(t=S.previousSibling,S.parentNode.removeChild(S),S=n),I=e.length;I--;){if(V=e[I],o=V.ch,i=V.path)for(E=i.length-1;a=i.charAt(E--);)"+"===a?"-"===i.charAt(E)?(E--,t=t.previousSibling):t=t.parentNode:t=t.lastChild;"^"===o?(j=Ut[c=V.id])&&(d=t&&(!S||S.parentNode!==t),(!S||d)&&(j.parentElem=t),V.elCnt&&d&&(t._dfr=(V.open?"#":"/")+c+o+(t._dfr||"")),g.push([d?null:S,V])):(B=tt[c=V.id])&&(B.parentElem||(B.parentElem=t||S&&S.parentNode||r,B._.onRender=f,B._.onArrayChange=l,s(B)),p=B.parentElem,V.open?(B._elCnt=V.elCnt,t&&!S?t._dfr="#"+c+o+(t._dfr||""):(B._prv||(p._dfr=m(p._dfr,"#"+c+o)),B._prv=S)):(!t||S&&S.parentNode===t?S&&(B._nxt||(p._dfr=m(p._dfr,"/"+c+o)),B._nxt=S):(t._dfr="/"+c+o+(t._dfr||""),B._nxt=n),k=B.linkCtx,(u=B.ctx&&B.ctx.onAfterCreate||St)&&u.call(k,B)))}for(I=g.length;I--;)Et.push(g[I])}return!e||e.elCnt}function h(e){var t,n;if(e)for(I=e.length,E=0;I>E;E++)if(V=e[E],J.id)J.id=J.id!==V.id&&J.id;else if(n=j=Ut[V.id].linkCtx.tag,!j.flow){if(!q){for(t=1;n=n.parent;)t++;H=H||t}!q&&t!==H||U&&j.tagName!==U||F.push(j)}}function _(){for(N=Pt?r.querySelectorAll(G):t(G,r).get(),T=N.length,i&&i.innerHTML&&(M=Pt?i.querySelectorAll(G):t(G,i).get(),i=M.length?M[M.length-1]:i),H=0,A=0;T>A;A++)if(S=N[A],i&&!_t)_t=S===i;else{if(a&&S===a)break;S.parentNode&&(xt&&(V=y(S,n,Wt))&&(V=V[0])&&(mt=mt?V.id!==mt&&mt:V.open&&V.id),!mt&&Bt(y(S,n,F&&Xt))&&!J&&S.getAttribute(X)&&Et.push([S]))}if(o===n&&r.getAttribute(X)&&Et.push([r]),x(i,ft),x(a,ft),J)return void(yt&&yt.resolve());for(ft&&Tt+ht&&(S=a,Tt&&(a?g(y(Tt+"+",!0),a):g(y(Tt,!0),r)),g(y(ht,!0),r),a&&(ct=a.getAttribute(dt),(T=ct.indexOf(vt)+1)&&(ct=ct.slice(T+vt.length-1)),a.setAttribute(dt,ht+ct))),T=Et.length,A=0;T>A;A++)S=Et[A],L=S[1],S=S[0],L?(j=Ut[L.id])&&((k=j.linkCtx)&&(j=k.tag,j.linkCtx=k),L.open?(S&&(j.parentElem=S.parentNode,j._prv=S),j._elCnt=L.elCnt,!j||j.onBeforeLink&&j.onBeforeLink()===!1||j._.bound||(j._.bound=!0,B=j.tagCtx.view,v(n,j._prv,B,L.id)),j._.linking=!0):(j._nxt=S,j._.linking&&(K=j.tagCtx,B=K.view,delete j._.linking,j._.bound||(j._.bound=!0,v(n,j._prv,B,L.id)),C(j,K)))):v(S.getAttribute(X),S,D(S),n,xt,e,c);
yt&&yt.resolve()}var b,k,j,A,T,E,I,N,S,B,V,L,M,R,$,P,O,F,q,U,K,Q,H,J,Z,et,nt,it,at,lt,st,pt,ct,ft,ut,gt,ht,vt,_t,mt,yt,xt,wt=this,kt=wt._.id+"_",Tt="",Et=[],It=[],Nt=[],St=wt.hlp(bt),Bt=g;if(p&&(yt=p.lazyLink&&t.Deferred(),p.tmpl?$="/"+p._.id+"_":(xt=p.lnk,J=p.get,p.tag&&(kt=p.tag+"^",p=!0)),p=p===!0),J&&(Bt=h,F=J.tags,q=J.deep,U=J.name),r=r?""+r===r?t(r)[0]:r.jquery?r[0]:r:wt.parentElem||rt.body,Q=!ot.noValidate&&r.contentEditable!==Ct,at=r.tagName.toLowerCase(),ft=!!Ot[at],i=i&&w(i,ft),a=a&&w(a,ft)||null,o!=n){if(pt=rt.createElement("div"),st=pt,vt=ht="",gt="http://www.w3.org/2000/svg"===r.namespaceURI?"svg_ns":(it=Mt.exec(o))&&it[1]||"",z&&it&&it[2]&&W("Unsupported: "+it[2]),ft){for(O=a;O&&!(P=y(O));)O=O.nextSibling;(ct=P?P._tkns:r._dfr)&&(R=$||"",(p||!$)&&(R+="#"+kt),E=ct.indexOf(R),E+1&&(E+=R.length,vt=ht=ct.slice(0,E),ct=ct.slice(E),P?O.setAttribute(dt,ct):r._dfr=ct))}if(lt=n,o=(""+o).replace(Ht,d),Q&&It.length&&Lt("Mismatched '<"+at+"...>' in:\n"+o),u)return;for($t.appendChild(pt),gt=Y[gt]||Y.div,Z=gt[0],st.innerHTML=gt[1]+o+gt[2];Z--;)st=st.lastChild;for($t.removeChild(pt),et=rt.createDocumentFragment();nt=st.firstChild;)et.appendChild(nt);r.insertBefore(et,a)}return yt?setTimeout(_,0):_(),yt&&yt.promise()}function v(e,t,r,i,a,o,l){var s,c,f,u,d,g,h,v,m,b,y;if(i)b=Ut[i],b=b.linkCtx?b.linkCtx.tag:b,m=b.linkCtx||{data:r.data,elem:b._elCnt?b.parentElem:t,view:r,ctx:r.ctx,attr:Et,fn:b._.bnd,tag:b,_bndId:i},_(m,m.fn);else if(e&&t)for(o=a?o:r.data,s=r.tmpl,e=k(e,p(t)),q.lastIndex=0;c=q.exec(e);)y=q.lastIndex,f=c[1],h=c[3],d=c[10],u=n,m={data:o,elem:t,view:r,ctx:l,attr:f,isLk:a,_initVal:!c[2]},c[6]&&(!f&&(u=/:([\w$]*)$/.exec(d))&&(u=u[1],u!==n&&(g=-u.length-1,h=h.slice(0,g-1)+Q)),null===u&&(u=n),m.convert=c[5]||""),m.expr=f+h,v=s.links[h],v||(s.links[h]=v=at.tmplFn(h,s,!0,u)),m.fn=v,f||u===n||(m.convertBack=u),_(m,v),q.lastIndex=y}function _(e,t){function r(n,r){i.call(e,n,r,t)}r.noArray=!0,e.isLk&&(e.view=new at.View(e.ctx,"link",et,e.data,et.tmpl,n,n,f)),e._ctxCb=V(e.view),e._hdlr=r,r(!0)}function m(e,t){var n;return e?(n=e.indexOf(t),n+1?e.slice(0,n)+e.slice(n+t.length):e):""}function b(e){return e&&(""+e===e?e:"SCRIPT"===e.tagName?e.type.slice(3):1===e.nodeType&&e.getAttribute(dt)||"")}function y(e,t,n){function r(e,t,n,r,a,l){o.push({elCnt:i,id:r,ch:a,open:t,close:n,path:l,token:e})}var i,a,o=[];return(a=t?e:b(e))?(o.elCnt=!e.type,i="@"===a.charAt(0)||!e.type,o._tkns=a,a.replace(n||Zt,r),o):void 0}function x(e,t){e&&("jsv"===e.type?e.parentNode.removeChild(e):t&&""===e.getAttribute(X)&&e.removeAttribute(X))}function w(e,t){for(var n=e;t&&n&&1!==n.nodeType;)n=n.previousSibling;return n&&(1!==n.nodeType?(n=rt.createElement("SCRIPT"),n.type="jsv",e.parentNode.insertBefore(n,e)):b(n)||n.getAttribute(X)||n.setAttribute(X,"")),n}function k(e,n){return e=t.trim(e).replace(Rt,"\\$&"),e.slice(-1)!==Q?e=K+":"+e+(n?":":"")+Q:e}function C(e,r){var i,a,o,l,s,p,c,f,u,d,g=r.view,h=e.linkCtx=e.linkCtx||{tag:e,data:g.data,view:g,ctx:g.ctx};if(e.onAfterLink&&e.onAfterLink(r,h),i=e.targetTag?e.targetTag.linkedElem:e.linkedElem,(a=i&&i[0])&&((o=e._.radio)&&(i=i.children("input[type=radio]")),o||!e._.chging)){if(l=at.cvt(e,e.convert)[0],o||a!==h.elem){for(c=i.length;c--;){if(a=i[c],f=a._jsvLkEl,e._.inline&&(!f||f!==e&&f.targetTag!==e))for(a._jsvLkEl=e,s=h.elem?h.elem._jsvBnd:e._prv._jsvBnd,a._jsvBnd=s+"+",s=s.slice(1).split("&"),p=s.length;p--;)T(Ut[s[p]],e.convertBack);o&&(a[yt]=l===a.value)}h._val=l}l!==n&&(o||a.value===n?a.contentEditable===Ct&&(a.innerHTML=l):a.type===xt?a[yt]=l&&"false"!==l:i.val(l))}(a=a||":"===e.tagName&&h.elem)&&(u=a._jsvTr,d=r.props.trigger,u!==d&&(a._jsvTr=d,i=i||t(a),A(i,u,"off"),A(i,d,"on")))}function j(e){setTimeout(function(){r(e)},0)}function A(e,t,n){t&&e[n](t===!0?"keydown":t,t===!0?j:r)}function T(e,t){var n,r,i,a,o,l=e.linkCtx,s=l.data,p=l.fn.paths;if(e&&p){for(p=(n=p._jsvto)||p[0],r=p&&p.length;r&&""+(a=p[--r])!==a;);!a||l.tag&&!l.tag.tagCtx.args.length?e.to=[[],t]:(a=a.split("^").join("."),e.to="."===a.charAt(0)?[[o=p[r-1],a.slice(1)],t]:[l._ctxCb(i=r?p[0].split("^").join("."):a)||[s,i],t],n&&o&&(e.to[0][0]=l._ctxCb(o,s)))}}function E(e,t,n){var r,i,a=e.tagCtx.view,o=e.tagCtxs||[e.tagCtx],l=o.length,s=!t;if(t=t||e._.bnd.call(a.tmpl,(e.linkCtx||a).data,a,it),n)o=e.tagCtxs=t,e.tagCtx=o[0];else for(;l--;)r=o[l],i=t[l],ft(r.props).setProperty(i.props),lt(r.ctx,i.ctx),r.args=i.args,s&&(r.tmpl=i.tmpl);return at._ths(e,o[0]),o}function I(e){for(var t,n,r,i=[],a=e.length,o=a;o--;)i.push(e[o]);for(o=a;o--;)if(n=i[o],n.parentNode){if(r=n._jsvBnd)for(r=r.slice(1).split("&"),n._jsvBnd="",t=r.length;t--;)N(r[t],n._jsvLkEl,n);R(b(n)+(n._dfr||""))}}function N(e,r,i){var a,o,l,s,p,c,f,u,d,g,h,v=Ut[e];if(r)i===r.linkedElem[0]&&(delete i._jsvLkEl,delete r.linkedElem);else if(v){delete Ut[e];for(a in v.bnd)s=v.bnd[a],p=".obs"+v.cbId,t.isArray(s)?t([s]).off(ht+p).off(gt+p):t(s).off(gt+p),delete v.bnd[a];if(o=v.linkCtx){if(l=o.tag){if(c=l.tagCtxs)for(f=c.length;f--;)(u=c[f].map)&&u.unmap();d=l.linkedElem,g=d&&d[0]||o.elem,(h=g&&g._jsvTr)&&(A(d||t(g),h,"off"),g._jsvTr=n),l.onDispose&&l.onDispose(),l._elCnt||(l._prv&&l._prv.parentNode.removeChild(l._prv),l._nxt&&l._nxt.parentNode.removeChild(l._nxt))}delete o.view._.bnds[e]}delete at._cbBnds[v.cbId]}}function S(e,i){return e===n?(F&&(t(F).off(vt,r).off("blur","[contenteditable]",r),F=n),e=!0,et.removeViews(),I(rt.body.getElementsByTagName("*"))):i&&e===!0&&(i=i.jquery?i:t(i),i.each(function(){for(var e;(e=D(this,!0))&&e.parent;)e.parent.removeViews(e._.key,n,!0);I(this.getElementsByTagName("*")),I([this])})),i}function B(e,t){return S(this,e,t)}function V(e){return function(t,n){var r,i,a=[n];if(e&&t){if(t._jsvOb)return t._jsvOb.call(e.tmpl,n,e,it);if("~"===t.charAt(0))return"~tag"===t.slice(0,4)&&(i=e.ctx,"."===t.charAt(4)&&(r=t.slice(5).split("."),i=i.tag),r)?i?[i,r.join("."),n]:[]:(t=t.slice(1).split("."),(n=e.hlp(t.shift()))&&(t.length&&a.unshift(t.join(".")),a.unshift(n)),n?a:[]);if("#"===t.charAt(0))return"#data"===t?[]:[e,t.replace(Qt,""),n]}}}function L(e){return e.type===xt?e[yt]:e.value}function M(e,t,n,r,i,a){var o,l,s,p,c,f,u,d=0,g=e===t;if(e){for(s=y(e)||[],o=0,l=s.length;l>o;o++){if(p=s[o],f=p.id,f===r&&p.ch===i){if(!a)break;l=0}g||(c="_"===p.ch?tt[f]:Ut[f].linkCtx.tag,p.open?c._prv=t:p.close&&(c._nxt=t)),d+=f.length+2}d&&e.setAttribute(dt,e.getAttribute(dt).slice(d)),u=t?t.getAttribute(dt):n._dfr,(l=u.indexOf("/"+r+i)+1)&&(u=s._tkns.slice(0,d)+u.slice(l+(a?-1:r.length+1))),u&&(t?t.setAttribute(dt,u):n._dfr=u)}else n._dfr=m(n._dfr,"#"+r+i),a||t||(n._dfr=m(n._dfr,"/"+r+i))}function R(e){var t,r,i,a;if(a=y(e,!0,zt))for(t=0,r=a.length;r>t;t++)i=a[t],"_"===i.ch?(i=tt[i.id])&&i.type&&i.parent.removeViews(i._.key,n,!0):N(i.id)}function $(e,t,n){if("set"===n.change){for(var r=e.tgt,i=r.length;i--&&r[i].key!==n.path;);-1===i?n.path&&ft(r).insert({key:n.path,prop:n.value}):n.remove?ft(r).remove(i):ft(r[i]).setProperty("prop",n.value)}}function P(e,t,n){var r,i=e.src,a=n.change;"set"===a?"prop"===n.path?ft(i).setProperty(t.target.key,n.value):(ft(i).setProperty(n.oldValue,null),delete i[n.oldValue],ft(i).setProperty(n.value,t.target.prop)):"remove"===a?(r=n.items[0],ft(i).removeProperty(r.key),delete i[r.key]):"insert"===a&&(r=n.items[0],r.key&&ft(i).setProperty(r.key,r.prop))}function O(e){return e.indexOf(".")<0}var F,D,q,U,K,Q,H,J,z,W,X,Z,G,Y,et,tt,nt="JsViews requires ",rt=e.document,it=t.views,at=it.sub,ot=it.settings,lt=at.extend,st=t.isFunction,pt=it.converters,ct=it.tags,ft=t.observable,ut=ft.observe,dt="data-jsv",gt=at.propChng=at.propChng||"propertyChange",ht=at.arrChng=at.arrChng||"arrayChange",vt="change.jsv",_t="onBeforeChange",mt="onAfterChange",bt="onAfterCreate",yt="checked",xt="checkbox",wt="radio",kt="none",Ct="true",jt='"></script>',At='<script type="jsv',Tt="script,["+dt+"]",Et="html",It={value:"val",input:"val",html:Et,text:"text"},Nt={from:"value",to:"value"},St=0,Bt=t.cleanData,Vt=ot.delimiters,Lt=at.syntaxErr,Mt=/<(?!script)(\w+)(?:[^>]*(on\w+)\s*=)?[^>]*>/,Rt=/['"\\]/g,$t=rt.createDocumentFragment(),Pt=rt.querySelector,Ot={ol:1,ul:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,colgroup:1,dl:1,select:1,optgroup:1,svg:1,svg_ns:1},Ft={tr:"table"},Dt={br:1,img:1,input:1,hr:1,area:1,base:1,col:1,link:1,meta:1,command:1,embed:1,keygen:1,param:1,source:1,track:1,wbr:1},qt={},Ut={},Kt=1,Qt=/^#(view\.?)?/,Ht=/(^|(\/>)|<\/(\w+)>|)(\s*)([#\/]\d+[_^])`(\s*)(<\w+(?=[\s\/>]))?|\s*(?:(<\w+(?=[\s\/>]))|<\/(\w+)>(\s*)|(\/>)\s*|(>))/g,Jt=/(#)()(\d+)(_)/g,zt=/(#)()(\d+)([_^])/g,Wt=/(?:(#)|(\/))(\d+)(_)/g,Xt=/(#)()(\d+)(\^)/g,Zt=/(?:(#)|(\/))(\d+)([_^])([-+@\d]+)?/g,Gt=e.getComputedStyle;if(!t)throw nt+"jQuery";if(!it)throw nt+"JsRender";if(!ft)throw nt+"jquery.observable";t.link||(Z={contents:function(e,r){e!==!!e&&(r=e,e=n);var i,a=t(this.nodes());return a[0]&&(i=r?a.filter(r):a,a=e&&r?i.add(a.find(r)):i),a},nodes:function(e,t,n){var r,i=this,a=i._elCnt,o=!t&&a,l=[];for(t=t||i._prv,n=n||i._nxt,r=o?t===i._nxt?i.parentElem.lastSibling:t:i._.inline===!1?t||i.linkCtx.elem.firstChild:t&&t.nextSibling;r&&(!n||r!==n);)(e||a||"SCRIPT"!==r.tagName)&&l.push(r),r=r.nextSibling;return l},childTags:function(e,t){e!==!!e&&(t=e,e=n);var r=this,i=r.link?r:r.tagCtx.view,a=r._prv,o=r._elCnt,l=[];return a&&i.link(n,r.parentElem,o?a.previousSibling:a,r._nxt,n,{get:{tags:l,deep:e,name:t,id:o&&r._tgId}}),l},refresh:function(e){var t,r,i=this,a=i.linkCtx,l=i.tagCtx.view;return i.disposed&&W("Removed tag"),e===n&&(e=it._tag(i,l,l.tmpl,E(i),!0)),e+""===e&&(r=i._.inline?Et:a.attr||p(i.parentElem,!0),t=o(e,a,r,i)),C(i,i.tagCtx),t||i},update:function(e){var t=this.linkedElem;t&&r({target:t[0]},n,e)}},at.onStore.template=function(e,n){n.link=d,n.unlink=B,e&&(t.link[e]=function(){return d.apply(n,arguments)},t.unlink[e]=function(){return B.apply(n,arguments)})},at.onStore.tag=function(e,t){at._lnk(t)},at._lnk=function(e){return lt(e,Z)},at.viewInfos=y,(ot.delimiters=function(){var e=Vt.apply(it,arguments);return U=e[0],K=e[1],Q=e[2],H=e[3],J=e[4],q=new RegExp("(?:^|\\s*)([\\w-]*)(\\"+J+")?(\\"+K+at.rTag+"\\"+Q+")","g"),this})(),lt(at._lnk(at.View.prototype),{addViews:function(e,t,n){var r,i,a=this,o=t.length,l=a.views;if(!a._.useKey&&o&&(n=a.tmpl)&&(i=l.length+o,c(a,e,n,l,t,a.ctx)!==!1))for(r=e+o;i>r;r++)ft(l[r]).setProperty("index",r);return a},removeViews:function(e,r,i){function a(e){var r,a,o,l,p,c,f=u[e];if(f&&f.link){if(r=f._.id,i||(c=f.nodes()),f.removeViews(n,n,!0),f.type=n,l=f._prv,p=f._nxt,o=f.parentElem,i||(f._elCnt&&M(l,p,o,r,"_"),t(c).remove()),!f._elCnt)try{l.parentNode.removeChild(l),p.parentNode.removeChild(p)}catch(d){}s(f);for(a in f._.bnds)N(a);delete tt[r]}}var o,l,p,c=this,f=!c._.useKey,u=c.views;if(f&&(p=u.length),e===n)if(f){for(o=p;o--;)a(o);c.views=[]}else{for(l in u)a(l);c.views={}}else if(r===n&&(f?r=1:(a(e),delete u[e])),f&&r){for(o=e+r;o-->e;)a(o);if(u.splice(e,r),p=u.length)for(;p>e;)ft(u[e]).setProperty("index",e++)}return this},refresh:function(e){var t=this,n=t.parent;return n&&(c(t,t.index,t.tmpl,n.views,t.data,e,!0),s(t)),t},link:h}),tt={0:et=new at.View},pt.merge=function(e){var t,n=this.linkCtx._val||"",r=this.tagCtx.props.toggle;return r&&(t=r.replace(/[\\^$.|?*+()[{]/g,"\\$&"),t="(\\s(?="+t+"$)|(\\s)|^)("+t+"(\\s|$))",n=n.replace(new RegExp(t),"$2"),e=n+(e?(n&&" ")+r:"")),e},ct("on",{attr:kt,onAfterLink:function(e,r){for(var i,a,o=this,l=0,s=e.args,p=s.length,c=e.props.data,f=e.view,u=e.props.context;p>l&&!(a=st(i=s[l++])););a&&(a=s.slice(l),s=s.slice(0,l-1),u||(u=/^(.*)[\.^][\w$]+$/.exec(e.params.args.slice(-a.length-1)[0]),u=u&&at.tmplFn("{:"+u[1]+"}",f.tmpl,!0)(r.data,f)),o._evs&&o.onDispose(),t(r.elem).on(o._evs=s[0]||"click",o._sel=s[1],c==n?null:c,o._hlr=function(e){return i.apply(u||r.data,[].concat(a,e,{change:e.type,view:f,linkCtx:r}))}))},onDispose:function(){t(this.parentElem).off(this._evs,this._sel,this._hlr)},flow:!0}),lt(ct["for"],{onArrayChange:function(e,t){var n,r=this,i=t.change;if(r.tagCtxs[1]&&("insert"===i&&e.target.length===t.items.length||"remove"===i&&!e.target.length||"refresh"===i&&!t.oldItems.length!=!e.target.length))r.refresh();else for(n in r._.arrVws)n=r._.arrVws[n],n.data===e.target&&n._.onArrayChange.apply(n,arguments);e.done=!0},onAfterLink:function(){var e,n,r,i,a,o=this,l=o._ars||{},s=o.tagCtxs,p=s.length,c=o.selected||0;for(e=0;c>=e;e++)n=s[e],a=n.map?n.map.tgt:n.args.length?n.args[0]:n.view.data,(i=l[e])&&a!==i[0]&&(ut(i[0],i[1],!0),delete l[e]),!l[e]&&t.isArray(a)&&(ut(a,r=function(e,t){o.onArrayChange(e,t)}),l[e]=[a,r]);for(e=c+1;p>e;e++)(i=l[e])&&(ut(i[0],i[1],!0),delete l[e]);o._ars=l},onDispose:function(){var e,t=this;for(e in t._ars)ut(t._ars[e][0],t._ars[e][1],!0)}}),lt(ct["for"],Z),lt(ct["if"],Z),lt(ct.include,Z),ct("props",{baseTag:ct["for"],dataMap:it.map({getTgt:ct.props.dataMap.getTgt,obsSrc:$,obsTgt:P,tgtFlt:O})}),lt(t,{view:it.view=D=function(e,r,i){function a(e,t){if(e)for(l=y(e,t,Jt),p=0,c=l.length;c>p&&(!(o=tt[l[p].id])||!(o=o&&i?o.get(!0,i):o));p++);}r!==!!r&&(i=r,r=n);var o,l,s,p,c,f,u,d=0,g=rt.body;if(e&&e!==g&&et._.useKey>1&&(e=""+e===e?t(e)[0]:e.jquery?e[0]:e)){if(r){if(a(e._dfr,!0),!o)for(u=Pt?e.querySelectorAll(Tt):t(Tt,e).get(),f=u.length,s=0;!o&&f>s;s++)a(u[s]);return o}for(;e;){if(l=y(e,n,Wt))for(f=l.length;f--;)if(o=l[f],o.open){if(1>d)return o=tt[o.id],o&&i?o.get(i):o||et;d--}else d++;e=e.previousSibling||e.parentNode}}return et},link:it.link=g,unlink:it.unlink=S,cleanData:function(e){e.length&&St&&I(e),Bt.apply(t,arguments)}}),it.utility={validate:function(e){try{et.link(n,rt.createElement("div"),n,n,e,n,n,1)}catch(t){return t.message}}},lt(t.fn,{link:function(e,t,n,r,i,a,o){return g(e,this,t,n,r,i,a,o)},unlink:function(e){return S(e,this)},view:function(e){return D(this[0],e)}}),t.each([Et,"replaceWith","empty","remove"],function(e,n){var r=t.fn[n];t.fn[n]=function(){var e;St=1;try{e=r.apply(this,arguments)}finally{St=0}return e}}),lt(et,{tmpl:{links:{},tags:{}}}),et._.onRender=f,ot({wrapMap:Y={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],svg_ns:[1,"<svg>","</svg>"],div:jQuery.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},linkAttr:X="data-link",merge:{input:{from:L,to:"value"},textarea:Nt,select:Nt,optgroup:{to:"label"}},jsrDbgMode:ot.debugMode,debugMode:function(t){ot.jsrDbgMode(t),t?e._jsv={views:tt,bindings:Ut}:delete e._jsv},jsv:function(){ot.debugMode(ot._dbgMode),X=ot.linkAttr,W=it._err,G=Tt+",["+X+"]",z=ot.noDomLevel0,Y.optgroup=Y.option,Y.tbody=Y.tfoot=Y.colgroup=Y.caption=Y.thead,Y.th=Y.td}}))}(this,this.jQuery)};window.jQuery&&(this.jQuery=window.jQuery,init());
},{}]},{},[1])(1)
});
