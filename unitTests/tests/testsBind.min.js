$(function(){test("Bind - View.on() :: Insert",function(){dbUp();dataUp();viewUp();domUp();userView.bind("#testTarget",{template:function(a,b){b('<li id="'+a._id+'">'+a.name+"</li>")}});user.insert({_id:"2342",name:"hello"});var a=$("#testTarget").find("#2342");ok(1===a.length,"Insert single document");viewDown();domDown();dbDown()});test("Bind - View.on() :: Update",function(){dbUp();dataUp();viewUp();domUp();userView.bind("#testTarget",{template:function(a,b){b('<li id="'+a._id+'">'+a.name+"</li>")}});
user.insert({_id:"2342",name:"hello"});var a=$("#testTarget").find("#2342").text();ok("hello"===a,"Insert single document");user.update({_id:"2342"},{name:"hello2"});a=$("#testTarget").find("#2342").text();ok("hello2"===a,"Update single document");viewDown();domDown();dbDown()});test("Bind - View.on() :: Remove",function(){dbUp();dataUp();viewUp();domUp();userView.bind("#testTarget",{template:function(a,b){b('<li id="'+a._id+'">'+a.name+"</li>")}});user.insert({_id:"2342",name:"hello"});var a=$("#testTarget").find("#2342");
ok(1===a.length,"Insert single document");user.remove({_id:"2342"});a=$("#testTarget").find("#2342");ok(0===a.length,"Remove single document");viewDown();domDown();dbDown()})});
